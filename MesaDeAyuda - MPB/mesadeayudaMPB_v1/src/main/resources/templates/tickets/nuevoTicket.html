<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml"
      xmlns:th="http://wwww.thymeleaf.org">
    <head th:replace="~{layout/plantilla :: head}">
        <title>Mesa de Ayuda</title>
    </head>
    <body>
        <div class="wrapper">
            <!-- Incluye el sidebar -->
            <div th:replace="~{layout/plantilla :: sidebar}"></div>

            <div class="main-content">
                <div th:replace="~{layout/plantilla :: header}"></div>

                <!-- Incluye el navbar -->
                <div th:replace="~{layout/plantilla :: navbar}"></div>

                <!-- Contenido principal -->
                <main class="home-section">
                    <div class="content-wrapper">   
                        <div class="content-container">
                            <div class="main-form">
                                <h1><b>Crear Nuevo Ticket</b> <i class="fas fa-info-circle"></i></h1>
                                <p class="description1">Describe tu situación y te atenderemos lo más pronto posible</p>

                                <form>
                                    <div class="form-group">
                                        <label>Breve Descripción</label>
                                        <input type="text" class="form-control" placeholder="Ingrese una breve descripción aqui...">
                                            <div class="character-count">0 / 80</div>
                                    </div>

                                    <div class="form-group">
                                        <label for="problemDescription">Descripción del Problema</label>
                                        <textarea id="problemDescription" class="form-control" rows="6"></textarea>
                                    </div>

                                    <div class="form-row">
                                        <div class="form-group half">
                                            <label for="category">Categoría</label>
                                            <select id="category" class="form-control">
                                                <option>Seleccione una categoría...</option>
                                            </select>
                                        </div>
                                        <div class="form-group half">
                                            <label for="impact">Impacto (Opcional)</label>
                                            <select id="impact" class="form-control">
                                                <option>Seleccione un nivel...</option>
                                            </select>
                                        </div>
                                    </div>

                                    <div class="upload-box">
                                        <i class="fas fa-arrow-up-from-bracket"></i>
                                        <span>Subir Imagen</span>
                                    </div>

                                    <button type="submit" class="btn-submit">
                                        Enviar Ticket <i style="margin-left: 5px;" class="fa-solid fa-paper-plane"></i>
                                    </button>
                                </form>
                            </div>

                            <div class="sidebarContent">
                                <div class="card">
                                    <h2>Tickets Activos</h2>
                                    <div class="ticket-list">
                                        <div class="ticket-item">
                                            <div class="ticket-header">
                                                <span class="ticket-id"><i class="fas fa-ticket"></i>#TIC001</span>
                                                <span class="status-badge">Abierto</span>
                                            </div>
                                            <label id="txtLayout">Problema con el sistema de Facturación</label>
                                            <div class="ticket-details">
                                                <div>Prioridad: <span>Baja</span></div>
                                                <div>Categoría: <span>Hardware</span></div>
                                                <div class="date">23-08-2024</div>
                                            </div>
                                        </div>
                                        <div class="ticket-item">
                                            <div class="ticket-header">
                                                <span class="ticket-id"><i class="fas fa-ticket"></i>#TIC001</span>
                                                <span class="status-badge">Abierto</span>
                                            </div>
                                            <label id="txtLayout">Problema con el sistema de Facturación</label>
                                            <div class="ticket-details">
                                                <div>Prioridad: <span>Baja</span></div>
                                                <div>Categoría: <span>Hardware</span></div>
                                                <div class="date">23-08-2024</div>
                                            </div>
                                        </div>
                                        <div class="ticket-item">
                                            <div class="ticket-header">
                                                <span class="ticket-id"><i class="fas fa-ticket"></i>#TIC001</span>
                                                <span class="status-badge">Abierto</span>
                                            </div>
                                            <label id="txtLayout">Problema con el sistema de Facturación</label>
                                            <div class="ticket-details">
                                                <div>Prioridad: <span>Baja</span></div>
                                                <div>Categoría: <span>Hardware</span></div>
                                                <div class="date">23-08-2024</div>
                                            </div>
                                        </div>
                                        <div class="ticket-item">
                                            <div class="ticket-header">
                                                <span class="ticket-id"><i class="fas fa-ticket"></i>#TIC001</span>
                                                <span class="status-badge">Abierto</span>
                                            </div>
                                            <label id="txtLayout">Problema con el sistema de Facturación</label>
                                            <div class="ticket-details">
                                                <div>Prioridad: <span>Baja</span></div>
                                                <div>Categoría: <span>Hardware</span></div>
                                                <div class="date">23-08-2024</div>
                                            </div>
                                        </div>
                                        <!-- Additional ticket items can be added here -->

                                    </div>
                                </div>

                                <div class="card">
                                    <h2>Información de Contacto</h2>
                                    <p class="description2">Recuerde mantener sus datos actualizados para lograr ayudarle con su solicitud.</p>
                                    <div class="contact-info">
                                        <div class="form-group">
                                            <label id="txtLayout">Nombre Completo</label>
                                            <input id="txtInput" type="text" value="Brians Fernando Vargas Camacho" readonly>
                                        </div>
                                        <div class="form-group">
                                            <label id="txtLayout">Número de Teléfono</label>
                                            <input id="txtInput" type="tel" value="+506 82635283" readonly>
                                        </div>
                                        <div class="form-group">
                                            <label id="txtLayout">Correo Electrónico</label>
                                            <input id="txtInput" type="email" value="usuario@munibarva.go.cr" readonly>
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                </main>
            </div>
        </div>

        <style>

            .content-container {
                display: flex;
                gap: 20px;
                height: 100%;
            }

            .main-form {
                flex: 1;
                background: white;
                padding: 30px;
                border-radius: 8px;
                box-shadow: 0 1px 3px rgba(0,0,0,0.1);
                display: flex;
                flex-direction: column;
            }

            .main-form form {
                display: flex;
                flex-direction: column;
                flex: 1;
            }

            h1 {
                font-size: 24px;
                font-weight: normal;
                margin: 0 0 5px 0;
            }

            h1 i {
                font-size: 18px;
                color: #6c757d;
            }

            #txtInput {
                font-size: 13px;
            }

            #txtLayout {
                font-size: 14px;
            }

            .description1 {
                color: #666;
                margin-bottom: 18px;
                font-size: 14px;
            }

            .description2 {
                color: #666;
                margin-bottom: 18px;
                font-size: 12px;
            }

            .form-row {
                margin-bottom: 25px;
                display: flex;
                gap: 20px;
            }

            .form-group.half {
                flex: 1;
            }

            label {
                display: block;
                margin-bottom: 8px;
                font-weight: 500;
            }

            .form-control {
                margin-bottom: 10px;
                width: 100%;
                padding: 8px 12px;
                border: 1px solid #ddd;
                border-radius: 4px;
                font-size: 14px;
            }

            textarea.form-control {
                margin-bottom: 20px;
                resize: vertical;
                min-height: 120px;
            }

            .character-count {
                margin-bottom: 5px;
                text-align: right;
                color: #666;
                font-size: 12px;
                margin-top: 4px;
            }

            .upload-box {
                border: 2px dashed #ddd;
                border-radius: 4px;
                padding: 30px;
                text-align: center;
                margin-bottom: 20px;
                color: #666;
                cursor: pointer;
            }

            .upload-box i {
                display: block;
                margin-bottom: 10px;
                font-size: 24px;
            }

            .btn-submit {
                align-self: flex-end;
                background: #000;
                color: white;
                border: none;
                padding: 10px 20px;
                border-radius: 4px;
                cursor: pointer;
                font-size: 14px;
            }

            .sidebarContent {
                width: 350px;
                display: flex;
                flex-direction: column;
                height: 100%; /* Asegura que ocupe toda la altura disponible */
            }

            .card {
                background: white;
                border-radius: 8px;
                padding: 20px;
                margin-bottom: 20px;
                box-shadow: 0 1px 3px rgba(0,0,0,0.1);
                flex: 1;
                display: flex;
                flex-direction: column;
            }

            .card:last-child {
                margin-bottom: 0;
            }

            .card h2 {
                font-size: 18px;
                margin: 0 0 5px 0;
            }

            .ticket-list {
                max-height: 250px; /* Altura fija para la lista de tickets */
                overflow-y: auto; /* Habilita el scroll vertical */
                padding-right: 10px; /* Espacio para el scrollbar */
            }

            /* Estilo personalizado para la barra de desplazamiento */
            .ticket-list::-webkit-scrollbar {
                width: 6px;
            }

            .ticket-list::-webkit-scrollbar-track {
                background: #f1f1f1;
                border-radius: 3px;
            }

            .ticket-list::-webkit-scrollbar-thumb {
                background: #888;
                border-radius: 3px;
            }

            .ticket-list::-webkit-scrollbar-thumb:hover {
                background: #555;
            }

            /* Mantener los estilos existentes para los ticket-item */
            .ticket-item {
                padding: 15px 0;
                border-bottom: 1px solid #eee;
            }

            .ticket-item:last-child {
                border-bottom: none;
            }

            .ticket-header {
                display: flex;
                justify-content: space-between;
                align-items: center;
                margin-bottom: 5px;
            }

            .ticket-id {
                color: #666;
                font-size: 14px;
            }

            .ticket-id i {
                margin-right: 5px;
            }

            .status-badge {
                background: #FFC107;
                color: #000;
                padding: 2px 8px;
                border-radius: 12px;
                font-size: 12px;
            }

            .ticket-item h3 {
                font-size: 14px;
                margin: 8px 0;
            }

            .ticket-details {
                font-size: 12px;
                color: #666;
            }

            .ticket-details > div {
                margin-bottom: 2px;
            }

            .contact-info input {
                background: #f5f5f5;
                border: 1px solid #ddd;
                width: 100%;
                padding: 8px 12px;
                border-radius: 4px;
                margin-bottom: 15px;
                font-size: 14px;
            }

            /* Responsive styles */
            @media (max-width: 1024px) {
                .content-container {
                    flex-direction: column;
                }

                .sidebarContent {
                    width: 100%;
                    flex-direction: row;
                    gap: 20px;
                }

                .card {
                    flex: 1;
                    margin-bottom: 0;
                }
            }

            @media (max-width: 768px) {
                .form-row {
                    flex-direction: column;
                    gap: 0;
                }

                .sidebarContent {
                    flex-direction: column;
                }

                .card {
                    margin-bottom: 20px;
                }

                .card:last-child {
                    margin-bottom: 0;
                }
            }
        </style>
    </body>
</html>